<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="css/owl.carousel.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <title>Заказы</title>
    <link rel="stylesheet" type="text/css" th:href="@{/css/index.css}" href="../../static/css/index.css">
    <link rel="icon" type="image/png" th:href="@{/img/favicon.ico}" href="../../static/img/favicon.ico">
</head>
<body>
<!--HEADER-->
<div class="container-fluid black-bar align-item">
    <div class="row header justify-content-center align-item">
        <!--        <div class="col-2"><p>LOGO</p></div>-->
        <div class="col-1" ><a th:href="@{/product}"><img class="logo" src="/img/cup.png" alt="Чашка кофе с зернами" ></a></div>
        <div class="col-8 black-bar-quote text-wrap">Что заставляет меня делать то, что я делаю? Желание вызвать гордость у родителей.<br> Или чашка крепкого кофе. (Бенедикт&nbsp;Камбербэтч)</div>
        <div class="col-2 bar-button">
            <form method="get" th:action="@{/index}">
                <button class="btn follow" type="submit">Личный кабинет</button>
            </form>
        </div>
    </div>
</div>

<div class="container">
    <div class="row justify-content-center">
        <div class="col-6 search-order">
            <form th:method="POST" th:action="@{/admin/search}">
                <label for="search">Введите значение для сортировки или фильтрации: </label>
                <input name="search" id="search">
<!--                <button type="submit">Поиск</button>-->
                <div class="login-button-block">
                    <button class="btn edit-role search" type="submit">Поиск</button>
                </div>
            </form>
        </div>
    </div>
</div>

<div class="container">
    <div class="row justify-content-center">
        <div class="col-10 user-list">
            <div><h3>Результат поиска</h3></div>
            <div th:each="order : ${search_orders}">
                <div>
                    <p class="card-title sm">Заказ №:</p>
                    <p class="card-info sm" th:text="${order.getNumber()}"></p>
                </div>
                <img th:src="'/img/' + ${order.getProduct().imageList[0].getFileName()}" width="150px">

                <div>
                    <p class="card-title sm">Пользователь:</p>
                    <p class="card-info sm" th:text="${order.getPerson().getLogin()}"></p>
                </div>
                <div>
                    <p class="card-title sm">Наименование:</p>
                    <p class="card-info sm" th:text="${order.getProduct().getTitle()}"></p>
                </div>
                <div>
                    <p class="card-title sm">Цена:</p>
                    <p class="card-info sm" th:text="${order.getPrice()} + ' руб.'"></p>
                </div>
                <div>
                    <p class="card-title sm">Дата заказа:</p>
                    <p class="card-info sm" th:text="${#temporals.format(order.getDateTime(), 'dd-MMM-yyyy')}"></p>
                </div>
                <div>
                    <p class="card-title sm">Статус:</p>
                    <p class="card-info sm" th:text="${order.getStatus()}"></p>
                </div>
                <hr>
            </div>
        </div>
    </div>
</div>

<hr>

<div class="container">
    <div class="row justify-content-center">
        <div class="col-10 user-list">
            <div><h2>Просмотр всех заказов пользователей</h2></div>
            <div th:each="order : ${orders}">
                <div>
                    <p class="card-title sm">Заказ №:</p>
                    <p class="card-info sm" th:text="${order.getNumber()}"></p>
                </div>
                <div>
                    <p class="card-title sm">Пользователь:</p>
                    <p class="card-info sm" th:text="${order.getPerson().getLogin()}"></p>
                </div>
                <div>
                    <p class="card-title sm">Наименование:</p>
                    <p class="card-info sm" th:text="${order.getProduct().getTitle()}"></p>
                </div>
                <div>
                    <p class="card-title sm">Цена:</p>
                    <p class="card-info sm" th:text="${order.getPrice()} + ' руб.'"></p>
                </div>
                <div>
                    <p class="card-title sm">Дата заказа:</p>
                    <p class="card-info sm" th:text="${#temporals.format(order.getDateTime(), 'dd-MMM-yyyy')}"></p>
                </div>
                <div>
                    <p class="card-title sm">Статус:</p>
                    <p class="card-info sm" th:text="${order.getStatus()}"></p>
                </div>
                <!--    <a th:href="@{/admin/product/editstatus/{id}(id=${order.getId()})}">Редактировать статус заказа</a>-->
                <!--    <a th:href="@{/admin/product/editstatus/{number}(number=${order.getNumber()})}">Редактировать статус заказа</a>-->
                <img class="edit-card-icon" src="/img/edit.png" alt="Редактировать" >
                <a th:href="@{/admin/product/editstatus/{id}(id=${order.getId()})}">Редактировать статус заказа</a>
                <hr>
            </div>
        </div>
    </div>
</div>


<!--<hr>-->
<!--<div th:each="product : ${products}">-->
<!--    <p th:text="'Наименование: ' + ${product.getTitle()}"></p>-->
<!--    <p th:text="'Описание: ' + ${product.getDescription()}"></p>-->
<!--    <p th:text="'Цена: ' + ${product.getPrice()}"></p>-->
<!--    <p th:text="'Склад: ' + ${product.getWarehouse()}"></p>-->
<!--    <p th:text="'Продавец: ' + ${product.getSeller()}"></p>-->
<!--    <p th:text="'Категория: ' + ${product.getCategory().getName()}"></p>-->
<!--    <hr>-->
<!--</div>-->
<div class="footer"></div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js" integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V" crossorigin="anonymous"></script>
</body>
</html>